30-11-2021
10:24
Authors: Khutuev Tamerlan.
***
Tags: #programming #javascript 
***
# JS arrays

Массив – это особый подвид объектов. В массивах можно хранить всё (включая объекты, кстати функции это тоже объекты).
```js
let arr = [];
```

```js
let fruits = ["Яблоко", "Апельсин", "Слива"];

alert( fruits[0] ); // Яблоко 
alert( fruits[1] ); // Апельсин 
alert( fruits[2] ); // Слива
fruits[2] = 'Груша'; // теперь ["Яблоко", "Апельсин", "Груша"]
fruits[3] = 'Лимон'; // теперь ["Яблоко", "Апельсин", "Груша", "Лимон"]
```


Важно. Массив копируется по ссылке:
```js
let fruits = ["Банан"] 
let arr = fruits; // копируется по ссылке (две переменные ссылаются на один и тот же массив) 
alert( arr === fruits ); // true 
arr.push("Груша"); // массив меняется по ссылке 
alert( fruits ); // Банан, Груша - теперь два элемента
```
---
## Методы

### Добавление и удаление элементов
Массивы в JavaScript могут работать и как очередь, и как стек. Мы можем добавлять/удалять элементы как в начало, так и в конец массива.

Мы уже знаем методы, которые добавляют и удаляют элементы из начала или конца:

-   `arr.push(...items)` – добавляет элементы в конец,
-   `arr.pop()` – извлекает элемент из конца,
-   `arr.shift()` – извлекает элемент из начала,
-   `arr.unshift(...items)` – добавляет элементы в начало.

Методы `push` и `unshift` могут добавлять сразу несколько элементов.

Так же для того, что бы узнать длинну массива используется метод `lenght`.
(возвращает не совсем количество элементов, а наибольший цифоровой индекс+1)

Метод `splice` и `slice`.
Array.splice изменяет исходный массив и возвращает массив, содержащий удаленные элементы.  
  
Array.slice не изменяет исходный массив. Он просто возвращает новый массив элементов, который является подмножеством исходного массива.
```js
arr.splice(index[, deleteCount, elem1, ..., elemN])
```
Пример:
```js
let arr = ["Я", "изучаю", "JavaScript"]; 
arr.splice(1, 1); // начиная с позиции 1, удалить 1 элемент
alert( arr ); // осталось ["Я", "JavaScript"]
```

```js
let arr = [_"Я"__, "изучаю", "JavaScript",_ "прямо", "сейчас"]; 
// удалить 3 первых элемента и заменить их другими 
arr.splice(0, 3, "Давай", "танцевать"); 
alert( arr ) // теперь [_"Давай", "танцевать"_, "прямо", "сейчас"]
```
Он так же может вставлять элементы без удаления если  установить `deleteCount` в 0.


----

## Перебор элементов
Цикл for:
```js
for (let i = 0; i < arr.length; i++) {
	alert( arr[i] ); 
}
```

Так же цикл `for..of`. Он не предоставляет доступа к номеру текущего элемента (тольок к знчачению). 
```js
for (let fruit of fruits) { 
	alert( fruit ); 
}
```
Он работаета на много быстрее чем `for..in`


Метод `forEach`. Он позволяет запускать функцию для каждого элемента массива. 
Синтаксис:
```js
arr.forEach(function(item, index, array) { /
/ ... делать что-то с item 
});
```
Пример:
```js
arr = ["Bilbo", "Gandalf", "Nazgul"];
arr.forEach((item, index, array) => {
	console.log(item, index);
});
//Bilbo 0
//Gandalf 1
//Nazgul 2
```

---

## Оператор расширения 
Этот оператор позволяет разделять итерируемые объекты. 
Пример:
```js
let mid = [3, 5];
let arr = [1, 2, mid, 5, 6]''
console.log(arr)'' //[1, 2, [3, 4], 5, 6]

//Но если использовать оператор расширения 
let arr = [1, 2, ...mid, 5, 6];
console.log(arr) //[1, 2, 3, 4, 5, 6]

```

Так же в js есть функции которые принимают списки чисел, но не массивы. Например `Math.max`.
```js
let arr = [3, 5, 1]; 

alert( Math.max(...arr) ); // 5 (оператор "раскрывает" массив в список аргументов)
//если бы мы передали просто массив была бы ошибка
```
Так же можно складывать массивы.
```js
a = [1, 2, 3];
b = [4, 5, 6];

c = [...a, ...b]; //[1, 2, 3, 4, 5, 6]
```

---
## Массив объектов
```js
let r = [
	{
	 name: "Ivan",
	 age: 34,
	},
	{
	 name: "Petr",
	 age: 64,
	},
	{
	 name: "Anya",
	 age: 24,
	},
];

r[1].age = 37 // у Пётра изменится возраст

```