05-04-2023
16:01
Authors: Даниил Белоусов
***
Tags: #stub #ts
***
# Что такое декораторы в TypeScript?

Декораторы в TypeScript - это специальные функции, которые могут использоваться для расширения функциональности классов, методов, свойств и параметров.

Декораторы позволяют добавлять новое поведение к существующим объектам без необходимости изменять их основной код. Это делает код более читаемым и поддерживаемым, так как декораторы помогают разделить заботы об объектах на отдельные модули.

В TypeScript есть три типа декораторов:

1.  Декоратор класса - применяется к классу и может использоваться для изменения его конструктора, статических переменных и методов класса.
    
2.  Декоратор метода - применяется к методу класса и может использоваться для изменения его поведения или логики.
    
3.  Декоратор свойства - применяется к свойству класса и может использоваться для изменения его значения или доступа к нему.
    

Для использования декораторов в TypeScript нужно установить опцию "experimentalDecorators" в tsconfig.json файле. После этого можно использовать декораторы, используя синтаксис @название_декоратора перед объектом, к которому он должен быть применен.

Например, следующий код демонстрирует использование декоратора метода:

```
function log(target: Object, propertyKey: string, descriptor: PropertyDescriptor) {
    const originalMethod = descriptor.value;

    descriptor.value = function (...args: any[]) {
        console.log(`Call ${propertyKey}(${args})`);
        const result = originalMethod.apply(this, args);
        console.log(`Result ${result}`);
        return result;
    };

    return descriptor;
}

class Calculator {
    @log
    add(x: number, y: number): number {
        return x + y;
    }
}

const calc = new Calculator();
calc.add(2, 3); // Call add([2,3]); Result 5
```

В этом примере декоратор метода `@log` добавляет логирование вызова и результата метода `add` класса `Calculator`. Теперь, при вызове метода `add`, мы также видим сообщения в консоли о вызове метода и его результате.

Это только один из множества возможных примеров использования декораторов в TypeScript. Декораторы могут быть очень полезными при создании расширяемого и модульного кода.

***

