10-11-2022
13:50
Authors: Khutuev Tamerlan.
***
Tags: #programming #java 
***
# Блоки инициализации

Чисто технически его можно заменить добавлением функции (и потом включение этой функции во все конструкторы).
Их можно использовать в анонимных классах ([[JAVA Анонимные классы]]) у которых не может быть конструктора. 

	У enum свыполнятся с начало конструктор и только потом статический инициалайзер.
	У обычных классов выполняется с начало статический инициалайзер и потом конструктор.

Можно использовать для инициализации коллекций. (хотя это выглядит странно)
```java
Map<String, String> map = new HashMap<String, String>() {{ 
	put("паук", "арахнид"); 
	put("птица", "архозавр"); 
	put("кит", "зверь"); 
}};
```

Бывают двух видов: статические и нестатические. 

---
## Статические блоки инициализации (static block)
Выполняется при первой загрузке класса.
```java
class Foo { 
	static List<Character> abc; 
	static { 
		abc = new LinkedList<Character>(); 
		for (char c = 'A'; c <= 'Z'; ++c) { 
			abc.add( c ); 
		} 
	} 
}
```

---
## Нестатические блоки инициализации (instance block)
Выполняются каждый раз.
```java
class Bar { 
	{ 
		System.out.println("Bar: новый экземпляр"); 
	} 
}
```