07-03-2023
10:34
Authors: Tamerlan Khutuev 
***
Tags: #stub #java #programming 
***
# Monitor

Монитором принято называть объект, который хранит состояние занять/свободен. 
Он отслеживает, как потоки обращаться к некоторым ресурсам. 

Наряду с данными которые реализуют блокировку ([[JAVA Lock]]) каждый объект в Java связан с данными которые реализуют wait-set ([[JAVA Wait Sets]]). В то время как блокировки помогают потокам работать независимо с общими данными, не мешая друг другу, наборы ожидания помогают потокам сотрудничать друг с другом

Монитор — это механизм синхронизации, который позволяет потокам иметь:
-   _взаимное исключение_ (Mutual exclusion) — только один поток может выполнить метод в определенный момент времени, используя _блокировки_
-   _кооперация_ (Cooperation) — возможность заставить потоки ждать выполнения определенных условий, используя _набор ожидания_

Мониторы предоставляют три основные функции для параллельного программирования:
-   только один поток в каждый момент времени имеет взаимоисключающий доступ к критической части кода
-   потоки, работающие в мониторе, могут быть заблокированы, пока они ждут выполнения определенных условий
-   один поток может уведомлять другие потоки, когда выполняются условия, которых они ждут

На рисунке ниже монитор показан в виде трёх прямоугольников.
В центре большой прямоугольник содержит единственный поток, владельца монитора. Слева небольшой прямоугольник содержит набор записей (entry set). Справа еще один маленький прямоугольник содержит набор ожидания ([[JAVA Wait Sets]]).

- Вход в монитор (1)
- Получение монитора (2)
- 

![[java-monitor.gif]]