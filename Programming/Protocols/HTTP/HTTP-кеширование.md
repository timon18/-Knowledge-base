29-03-2023
09:36
Authors: Tamerlan Khutuev
***
Tags: #stub #protocols
***
# HTTP-кеширование

Смысл кеширования заключается в сохранении копии полученного ответа от сервера, что бы при последующем запросе вернуть этот же ответ.

Существует несколько видов кешей. Приватный (Private) и общий (Shared). Первый это кеш браузера, а второй кеш на уровне локальной сети либо сети провайдера.

Заголовки для управления кешем:
- `Cache-Control` - поле используется для задания инструкций по механизму кеширования. 

Не кешируется. Запросы всегда отправляются на сервер:
```
Cache-Control: no-store
Cache-Control: no-cache, no-store, must-revalidate
```

Кешируется, но каждый раз на сервер отправляется запрос на предмет актуальности данных:
```
Cache-Control: no-cach
```

Управление видом кешей (private и public)
```
Cache-Control: private
Cache-Control: public
```

Срок действия. Самой важной директивой здесь является max-age=seconds — максимальное время, в течение которого ресурс считается свежим.
```
Cache-Control: max-age=31536000
```

При использовании must-revalidate кеш будет проверять статус данных с истёкшим сроком действия. 
```
Cache-Control: must-revalidate
```