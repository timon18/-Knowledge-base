28-03-2023
11:10
Authors: Tamerlan Khutuev
***
Tags: #stub #patterns 
***
# Приспособленец
Также известен как: Приспособленец, Кэш, Flyweight

>**Легковес** — это структурный паттерн проектирования, который позволяет вместить бóльшее количество объектов в отведённую оперативную память. Легковес экономит память, разделяя общее состояние объектов между собой, вместо хранения одинаковых данных в каждом объекте.
>(https://refactoring.guru/ru/design-patterns/flyweight)

>Применяет совместное использование для эффективной поддержки множества мелких объектов.
>(Паттерны объектно-ориентированного программирования 2020. GoF)


## Проблема.
При работе с большим количеством объектов одного типа, которые имеют общее состояние, возникает проблема высокой нагрузки на память и производительность системы. Создание каждого объекта требует затрат памяти и времени, что может существенно снижать производительность приложения.

## Решение
Паттерн Flyweight позволяет сэкономить ресурсы системы, разделяя объекты на две группы: внешнее и внутреннее состояния. Внешнее состояние объекта не изменяется в процессе его использования, а внутреннее состояние может меняться. Создание объектов осуществляется через фабрику, которая контролирует количество уже созданных объектов и возвращает существующий объект, если он уже был создан, или создает новый, если такой объект еще не существует. Таким образом, мы сокращаем затраты на создание объектов, используя уже созданные.

## Пример
