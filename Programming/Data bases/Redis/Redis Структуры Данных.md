05-04-2022
11:16
Authors: Khutuev Tamerlan.
***
Tags: #redis #db
***
# Структуры данных Redis

### Строки
Базовый тип. Просто ключ-значение. Строки в Redis _могут использоваться так же как числа,_ ограничены размером 512 Мб.

---
### Списки
 Список это последовательность значений упорядоченных по порядку создания. (двух-сторонний стек). 
 Можно добавлять и т.д. с обеих сторон (первая буква команды обозначает сторону `R` и `L`).
- Добавление элемента `LPUSH`.
- Срез списка `LRANGE`. `LRANGE имя_списка индекс_начало индекс_конца` -1 это конец списка. 
- И т.д. -> https://redis.io/commands/lpush/

```bash
127.0.0.1:6379> LPUSH obj1 value1

(integer) 1

127.0.0.1:6379> LPUSH obj1 value2

(integer) 2

127.0.0.1:6379> LPUSH obj1 value3

(integer) 3

127.0.0.1:6379> LRANGE obj1 0 -1

1) "value3"
2) "value2"
3) "value1"
```
---
### Множества
Множества строк в математическом понимании: 
**элементы уникальны,** 
не упорядочены, 
поддерживают операции вставки, проверки вхождения элемента, пересечения и разницы множеств.

- Добавление нового элемента `SADD`.
- Получение всех элементов `SMEMBERS`.
- Объеденение множеств `SUNION`.
- Вычитание первого множества из второго `SDIFF`. Общие элементы у обоих множеств `SINTER`.
- И т.д. -> https://redis.io/commands/sadd/

```bash
127.0.0.1:6379> SADD objects obj1

(integer) 1

127.0.0.1:6379> SADD objects obj2

(integer) 1

127.0.0.1:6379> SADD objects obj3

(integer) 1

127.0.0.1:6379> SADD objects obj1

(integer) 0

127.0.0.1:6379> SMEMBERS objects

1) "obj2"
2) "obj3"
3) "obj1"
```
---
### Упорядоченные множества
Отличаются от обычных множеств тем, что его элементы упорядочены по параметру "score".
- Добавление новой записи `ZADD имя_ключа порядковое_число_упорядочивания_множества значение`
- Срез данных `ZRANGE`
- И т.д. -> https://redis.io/commands/zadd/

```bash
127.0.0.1:6379> ZADD objects 1500 value1

(integer) 1

127.0.0.1:6379> ZADD objects 1600 value2

(integer) 1

127.0.0.1:6379> ZADD objects 1700 value3

(integer) 1

127.0.0.1:6379> ZRANGE objects 0 -1

1) "value1"
2) "value2"
3) "value3"
```
---
### Хеш-таблицы
- Для записи используется `HSET имя_ключа имя_атрибута значение`. 
- Для чтения `HGET имя_ключа имя_атрибута`.
- Для получения всех значений `HGETALL`.
- И т.д. -> https://redis.io/commands/hdel/

```bash

127.0.0.1:6379> HSET obj attr1 value1

(integer) 1

127.0.0.1:6379> HSET obj attr2 value2

(integer) 1

127.0.0.1:6379> HGET obj attr1

"value1"

127.0.0.1:6379> HGETALL obj

1) "attr1"
2) "value1"
3) "attr2"
4) "value2"
```

